{% extends "base.html" %}

{% block head %}
<style>
  body {
    color: white;
    justify-content: center;
    align-items: center;
    height: 100vh;
  }

  h1 {
    font-size: 64px;
    position: absolute;
    display: flex;
    flex-direction: column;
    justify-content: center;
    left: 16%;
    top: 43%;
    color: #5F5C5C;
    transition: color 3s ease;
  }

  h1.fade-in {
    color: #fff;
  }

  .page-wrapper {
    display: flex;
    align-items: center;
    width: 100%;
    max-width: 1200px;
    margin: 0 auto;
  }

  .logo {
    font-size: 48px;
    font-weight: bold;
    margin-right: 50px;
  }

  .main-content {
    display: flex;
    flex-direction: column;
    align-items: center;
    opacity: 0;
    transition: opacity 3s ease;
  }

  .fade-in {
    opacity: 1;
  }

  .background {
    left: 0;
    top: 0;
    width: 100dvw;
    height: 100dvh;
    position: absolute;
    top: 0;
    z-index: -1;
    background-color: #ffffff;
    opacity: 1;
    transition: opacity 2s ease;
  }

  .fade-out {
    opacity: 0;
  }

  .name-section {
    margin-bottom: 10px;
    margin: 0 auto;
  }

  .name-display {
    margin-inline-start: 50px;
  }

  .container-wrapper {
    display: flex;
  }

  .container {
    width: 518px;
    display: flex;
    flex-direction: column;
    align-items: center;
  }

  .tools-panel {
    margin-left: 30px;
  }

  .color-palette {
    display: flex;
    flex-direction: column;
  }

  .color-dot {
    width: 30px;
    height: 30px;
    border-radius: 50%;
    border: 1px solid #ccc;
    margin-bottom: 10px;
    cursor: pointer;
  }

  #red {
    background-color: red;
  }

  #orange {
    background-color: orange;
  }

  #yellow {
    background-color: yellow;
  }

  #green {
    background-color: green;
  }

  #blue {
    background-color: blue;
  }

  #black {
    background-color: black;
  }

  #color-picker {
    -webkit-appearance: none;
    -moz-appearance: none;
    appearance: none;
    width: 30px;
    height: 30px;
    padding: 0;
    border-radius: 50%;
    cursor: pointer;
    background-color: transparent;
    margin-bottom: 10px;
    border: 2px solid transparent;
    box-sizing: border-box;
    background-image: conic-gradient(from 90deg, violet, indigo, blue, green, yellow, orange, red, violet);
    background-origin: border-box;
  }

  #color-picker::-webkit-color-swatch {
    border-radius: 50%;
    border: none;
  }

  #color-picker::-moz-color-swatch {
    border-radius: 50%;
    border: none;
  }

  #eraser-container img {
    width: 30px;
    height: auto;
    cursor: pointer;
  }

  #submit-button {
    margin-top: 20px;
    width: 518px;
    display: flex;
    align-items: center;
    padding: 10px 20px;
    border: 1px solid white;
    border-radius: 20px;
    background-color: transparent;
    color: white;
    font-size: 16px;
    cursor: pointer;
    background-color: #437555;
  }

  .submit-text {
    margin: auto;
  }

  .arrow {
    width: 0;
    height: 0;
    border-top: 10px solid transparent;
    border-bottom: 10px solid transparent;
    border-left: 10px solid white;
    margin-right: 10px;
  }
</style>
<link href="/static/css/enikki.css" rel="stylesheet">
<script src="/static/js/simple-drawing-board.min.js"></script>

{% endblock head %}

{% block body %}

<div class="background" id="fedeout-bg"></div>
{% include "title-enikki.html" %}
<script>
  window.addEventListener("DOMContentLoaded", () => {
    requestAnimationFrame(() => {
      const enikki = document.getElementById('fadein-item');
      const title = document.getElementById('title-enikki');
      const bg = document.getElementById('fedeout-bg');
      enikki.classList.add("fade-in");
      title.classList.add("fade-in");
      bg.classList.add("fade-out");
    });
  });
</script>

<div class="main-content" id="fadein-item">
  <header class="name-section">
    <span class="name-label">なまえ</span>
    <span class="name-display">{{ username }}</span>
  </header>
  <div class="container-wrapper">
    <div class="container">
      {% with month=month, day=day %}
      {% include 'enikki.html' %}
      {% endwith %}
      <button id="submit-button">
        <span class="arrow"></span>
        <span class="submit-text">提出する</span>
      </button>
    </div>
    <div class="tools-panel">
      <div class="color-palette">
        <button id="red" class="color-dot"></button>
        <button id="orange" class="color-dot"></button>
        <button id="yellow" class="color-dot"></button>
        <button id="green" class="color-dot"></button>
        <button id="blue" class="color-dot"></button>
        <button id="black" class="color-dot"></button>
        <input type="color" id="color-picker" value="#ffffff">
      </div>
      <div id="eraser-container">
        <img src="/static/images/eraser.png" alt="消しゴム">
      </div>
    </div>
  </div>
</div>

<script src="/static/js/create.js"></script>

{% endblock body %}
